{% extends "debian/base.html" %}

{% block javascript %}
    <script type="text/javascript" src="/debian/static/js/search.js"></script>
{% endblock %}

{% block content %}
<div id="tabs">
	<ul>
		<li><a href="#tab-search">Assisted Search</a></li>
		<li><a href="#tab-sparql">Write your own SPARQL Query</a></li>
		<li><a href="#tab-help">How does it work?</a></li>
	</ul>
    <!-- Assisted search tab -->
    <div id="tab-search">
        <form action="{% url debian.views.results %}" method="post">
        <div id="accordion"> 
        <h3><a href="#">Basic search</a></h3>
        <div> <!-- Basic search -->
            <div class="form-field">
                <label for="id_filter" class="field-label">Keyword:</label>
                {{ search.filter }}
                <span class="field-comment">
                    (blank is ok, but please consider using some filter if you
                    want useful results)
                </span>
                {% for error in search.filter.errors %}
                    <div class="ui-widget">
				        <div class="ui-state-error ui-corner-all"
                            style="width: 40%; padding: 0 .7em; margin-bottom: .2em;"> 
					    <p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span> 
					    <strong>Error:</strong> {{ error }}</p>
				        </div>
			        </div>
                {% endfor %}
            </div>
            <div class="form-field">
                <label for="id_distribution" class="field-label">Distribution:</label>
                {{ search.distribution }}
                <label for="id_area" class="field-label">Area:</label>
                {{ search.area }}
            </div>
            <div class="form-field">
                <label class="field-label">Search in:</label>
                {{ search.searchtype }}
            </div>
        </div>

        <h3><a href="#">Filters</a></h3>
        <div> <!-- Filters -->
            <div class="form-field">
                <label for="id_section" class="field-label">Section:</label>
                {{ search.section }}
                <span class="field-comment">
                    (e.g. games, text)
                </span>
                {% for error in search.section.errors %}
                    <div class="ui-widget">
				        <div class="ui-state-error ui-corner-all" style="padding: 0 .7em; margin-bottom: .3em;"> 
					    <p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span> 
					    <strong>Error:</strong> {{ error }}</p>
				        </div>
			        </div>
                {% endfor %}
            </div>
            <div class="form-field">
                <label class="field-label">Priority:</label>
                {{ search.priority }}
            </div>
            <div class="form-field">
                <label class="field-label">Version:</label>
                {{ search.version }}
            </div>
            <div class="form-field">
                <label class="field-label">Maintainer:</label>
                {{ search.maintainer }}
            </div>
            <div class="form-field">
                <label class="field-label">Comaintainer:</label>
                {{ search.comaintainer }}
            </div>
            <div class="form-field">
                <label class="field-label">Maintained using:</label>
                {{ search.vcs }}
                <span class="field-comment">
                    (no selections will be interpreted as 'any')
                </span>
            </div>
        </div>

        <h3><a href="#">Output options</a></h3>
        <div> <!-- Output options -->
            <div class="form-field">
                {{ search.homepage }}
                <label for="id_homepage" class="field-label">Show package homepage</label>
            </div>
            <div class="form-field">
                {{ search.showquery }}
                <label for="id_showquery" class="field-label">Show auto-generated SPARQL query</label>
            </div>
            <div class="form-field">
                <label class="field-label">Order by:</label>
                {{ search.sort }}
            </div>
        </div>

        </div> <!-- accordion -->
        <div class="submit-button">
            <input type="submit" class="fg-button ui-state-default ui-corner-all" value="Get my results!"/>
        </div>
        </form>
    </div> <!-- assisted search -->

    <div id="tab-sparql">
        <div class="ui-widget">
		    <div class="ui-state-highlight ui-corner-all" style="margin-top: 20px; padding: 0 .7em;"> 
			    <p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
					Looking for examples? Click help tab!</p>
			</div>
		</div>
    
        <form action="{% url debian.views.sparql %}" method="post">
            <div class="query-textarea">
            <label for="id_ns" class="field-label">Prefixes</label>
                <span class="field-comment">
                    (you won't probably need to modify this)
                </span>
                {{ sparql.ns }}
            </div>
            <div class="query-textarea">
            <label for="id_query" class="field-label">Query</label>
                <span class="field-comment">
                    (edit the default query as you wish)
                </span>
                {{ sparql.query }}
            </div>
            <div class="submit-button">
                <input type="submit" class="fg-button ui-state-default ui-corner-all" value="Execute Query"/>
            </div>
        </form>
    </div> <!-- tab SPARQL -->

    <div id="tab-help">
        <h4 class="help-section">Introduction</h4>
        <p>I don't really know how this works.</p>
        <h4 class="help-section">SPARQL Examples</h4>
        <p>I don't really know how this works.</p>
    </div> <!-- tab help -->

</div> <!-- tabs -->
{% endblock %}
