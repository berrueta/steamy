{% extends "debian/base.html" %}

{% block content %}
    <div class="result-search-again">
    <a href="{% url debian.views.index %}" class="fg-button ui-state-default
    ui-corner-all">Start a new search
    <span class="ui-icon ui-icon-refresh" style="display: inline-block;"></span></a>
    </div>
    <div class="subheader">
        <div class="ui-widget-content ui-corner-all">
		    <h3 class="subtitle ui-widget-subheader ui-corner-all">
                Search results {% if filter %} (keyword: "{{filter}}") {% endif %}
            </h3>
	    </div>
    </div>
    {% for result in results %}
    <div class="result">
        <div class="result-header">
        <span class="result-number">#{{forloop.counter}}</span>
        <span style="font-weight:bold">
            <a href="{{result.sourceurilink}}">{{result.sourcename}} ({{result.fullversion}})</a>
        </span>
        is version of <a href="{{result.usourceurilink}}">{{result.sourcename}}</a>
        <span class="ui-icon ui-icon-extlink" style="display: inline-block;"></span>
        </div>
        <ul>
        <li>
            <span class="result-label">Maintainer:</span>
            <a href="{{result.mainturilink}}"> {% if result.maintname %}{{result.maintname}}{% endif %}&lt;{{result.maintmail}}&gt;</a>
            <span class="ui-icon ui-icon-extlink" style="display: inline-block;"></span>
        </li>
        {% if result.section %}
        <li>
            <span class="result-label">Section:</span>
            <a href="{{result.sectionurilink}}">{{result.sectionname}}</a>
            <span class="ui-icon ui-icon-extlink" style="display: inline-block;"></span>
        </li>
        {% endif %}
        {% if result.homepage %}
        <li>
            <span class="result-label">Homepage:</span> 
            <a href="{{result.homepage}}">{{result.homepage}}</a>
            <span class="ui-icon ui-icon-extlink" style="display: inline-block;"></span>
        </li>
        {% endif %}
        {% if result.distribution %}
        <li>
            <span class="result-label">Distribution:</span> 
            <a href="{{result.distributionurilink}}">{{result.distribution}}</a>
            <span class="ui-icon ui-icon-extlink" style="display: inline-block;"></span>
        </li>
        {% endif %}
        {% if result.area %}
        <li>
            <span class="result-label">Area:</span> 
            {{result.area}}
        </li>
        {% endif %}
        {% if result.priority %}
        <li>
            <span class="result-label">Priority:</span> 
            {{result.priority}}
        </li>
        {% endif %}
        </ul>
    </div>
    {% empty %}
    <div class="no-matches">
        I'm sorry but no package matches your criteria. Why don't you 
        <a href="{% url debian.views.index %}">try again?</a>
    </div>
    {% endfor %}
    {% if query %}
	    <div class="ui-widget-content ui-corner-all">
		    <h3 class="subtitle ui-widget-subheader ui-corner-all">Query String</h3>
            <div id="querystring">
                {{query}}
            </div>
	    </div>
    {% endif %}
{% endblock %}
